{% load i18n wagtailadmin_tags %}

{% comment %}

Table headers for the page listing, when in 'explore' mode. Expects the following variables:

sortable: if true, headings are links to wagtailadmin_explore with sort parameters applied.
sortable_by_type: must be true to allow sorting on the 'type' column
show_ordering_column: if true, an 'ordering' column is added.
orderable: if true, the 'ordering' column is populated (again with links to wagtailadmin_explore).

If either sortable or orderable is true, the following variables are also required:

parent_page: The page instance currently being browsed (used to generate the correct wagtailadmin_explore urls and title text)
ordering: the current sort parameter

{% endcomment %}

<tr class="table-headers">
    <th class="bulk-actions-filter-checkbox" data-parent-id="{{ parent_page.id }}">
        <div>
            <input type="checkbox" aria-label="Bulk action checkbox" />
            {% bulk_action_filters %}
            <div class="bulk-actions-choices u-hidden">
                <span>
                    {% blocktrans count counter=pages|length %}
                    <span class="num-pages">1 page</span> on this page selected. Select all <span class="num-pages-in-listing">0</span> in listing |
                    {% plural %}
                    <span class="num-pages">All {{counter}} pages</span> on this page selected. Select all <span class="num-pages-in-listing">0</span> in listing |
                    {% endblocktrans %}
                </span>
                <ul>{% page_bulk_action_choices %}</ul>
            </div>
        </div>
    </th>
    <th class="search">
        <div class="nav-search">
            <button class="button" form="filter_search" type="submit">{% trans "Search" %}</button>
            <label for="page-search-q">Search</label>
            <input aria-label='{% trans "Search text" %}' type="text" form="filter_search" value="{{filter_query}}" name="filters" placeholder='{% trans "Search" %}'>
        </div>
    </th>
    {% if show_parent %}
        <th class="parent">
            {% trans 'Parent' as parent_label %}
            {% page_table_header_label label=parent_label sortable=0 parent_page_title=parent_page.title %}
        </th>
    {% endif %}
     <th class="updated">
        {% trans 'Updated' as updated_label %}
        {% page_table_header_label label=updated_label sortable=sortable sort_field='latest_revision_created_at' parent_page_title=parent_page.title %}
    </th>
    <th class="type">
        {% trans 'Type' as type_label %}

        {% if sortable and sortable_by_type %}
            {% page_table_header_label label=type_label sortable=1 sort_field='content_type' parent_page_title=parent_page.title %}
        {% else %}
            {% page_table_header_label label=type_label sortable=0 parent_page_title=parent_page.title %}
        {% endif %}
    </th>
    <th class="status" colspan="2">
        {% trans 'Status' as status_label %}
        {% page_table_header_label label=status_label sortable=sortable sort_field='live' parent_page_title=parent_page.title %}
    </th>
</tr>
